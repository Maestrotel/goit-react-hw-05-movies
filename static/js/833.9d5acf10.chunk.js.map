{"version":3,"file":"static/js/833.9d5acf10.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/pages/DetailsMoviePage/DetailsMoviePage.module.css?b78c","pages/DetailsMoviePage/DetailsMoviePage.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"backBtn\":\"DetailsMoviePage_backBtn__1LoX-\",\"backBtnCon\":\"DetailsMoviePage_backBtnCon__cxE+c\",\"infoStyle\":\"DetailsMoviePage_infoStyle__EK2em\",\"posterStyle\":\"DetailsMoviePage_posterStyle__64BKn\",\"castStyle\":\"DetailsMoviePage_castStyle__JoPgj\",\"revStyle\":\"DetailsMoviePage_revStyle__V6zGV\"};","import Loader from 'components/Loader/Loader';\nimport React, { useEffect, useState, Suspense, lazy } from 'react';\nimport { Link, Route, Routes, useParams, useLocation } from 'react-router-dom';\nimport { getFilmDetails } from 'services/api';\nimport css from './DetailsMoviePage.module.css';\n\nconst CastPage = lazy(() => import('pages/CastPage/CastPage'));\nconst ReviewsPage = lazy(() => import('pages/ReviewsPage/ReviewsPage'));\n\nfunction DetailsMoviePage() {\n  const [movieInfo, setMovieInfo] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const { movieId } = useParams();\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!movieId) return;\n    const fetchFilmDetails = async id => {\n      try {\n        setIsLoading(true);\n        const trending = await getFilmDetails(id);\n        setMovieInfo(trending);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchFilmDetails(movieId);\n  }, [movieId]);\n\n  return (\n    <div className={css.backBtnCon}>\n      <Link className={css.backBtn} to={location?.state?.from ?? '/'}>\n        Go Back\n      </Link>\n      {error !== null && <p>Something went wrong {error}</p>}\n      {isLoading && <Loader />}\n      <div>\n        {movieInfo && (\n          <div>\n            <div>\n              <img\n                className={css.posterStyle}\n                src={\n                  movieInfo?.poster_path\n                    ? `https://image.tmdb.org/t/p/w500${movieInfo?.poster_path}`\n                    : 'https://cdn4.iconfinder.com/data/icons/ui-beast-4/32/Ui-12-512.png'\n                }\n                alt={movieInfo?.title}\n              />\n            </div>\n            <div>\n              <h1>\n                {movieInfo?.title} ({movieInfo?.release_date.slice(0, 4)})\n              </h1>\n              <p>User Score: {movieInfo?.vote_average}</p>\n              <h2>Overview</h2>\n              <p>{movieInfo?.overview}</p>\n              <h2>Genres</h2>\n              <ul>\n                {movieInfo?.genres?.map(({ id, name }) => {\n                  return <li key={id}>{name}</li>;\n                })}\n              </ul>\n            </div>\n          </div>\n        )}\n        <h2 className={css.infoStyle}>Additional information</h2>\n        <Link\n          className={css.castStyle}\n          state={{ from: location?.state?.from ?? '/' }}\n          to=\"cast\"\n        >\n          Cast\n        </Link>\n        <Link\n          className={css.revStyle}\n          state={{ from: location?.state?.from ?? '/' }}\n          to=\"reviews\"\n        >\n          Reviews\n        </Link>\n        <Suspense fallback={<Loader />}>\n          <Routes>\n            <Route path=\"cast\" element={<CastPage />} />\n            <Route path=\"reviews\" element={<ReviewsPage />} />\n          </Routes>\n        </Suspense>\n      </div>\n    </div>\n  );\n}\n\nexport default DetailsMoviePage;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = '4f78e0fa15d03d6a74908fc8e459b884';\n\nconst filmsAPI = axios.create({\n  baseURL: BASE_URL,\n  params: {\n    api_key: KEY,\n    language: 'en-US',\n    include_adult: false,\n  },\n});\n\nexport const getTrendingMovies = async () => {\n  const { data } = await filmsAPI.get('/trending/movie/week');\n  return data.results;\n};\n\nexport const getMoviesByQuery = async query => {\n  const { data } = await filmsAPI.get('/search/movie', {\n    params: { query },\n  });\n  return data.results;\n};\n\nexport const getFilmDetails = async id => {\n  const { data } = await filmsAPI.get(`/movie/${id}`);\n  return data;\n};\n\nexport const getCast = async id => {\n  const { data } = await filmsAPI.get(`/movie/${id}/credits`);\n  return data.cast;\n};\n\nexport const getReviews = async id => {\n  const { data } = await filmsAPI.get(`/movie/${id}/reviews`);\n  return data.results;\n};\n"],"names":["CastPage","lazy","ReviewsPage","useState","movieInfo","setMovieInfo","isLoading","setIsLoading","error","setError","movieId","useParams","location","useLocation","useEffect","fetchFilmDetails","id","getFilmDetails","trending","message","className","css","to","state","from","Loader","src","poster_path","alt","title","release_date","slice","vote_average","overview","genres","map","name","Suspense","fallback","path","element","filmsAPI","axios","baseURL","params","api_key","language","include_adult","getTrendingMovies","get","data","results","getMoviesByQuery","query","getCast","cast","getReviews"],"sourceRoot":""}